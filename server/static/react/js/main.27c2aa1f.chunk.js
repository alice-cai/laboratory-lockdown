(this["webpackJsonpreact-app"]=this["webpackJsonpreact-app"]||[]).push([[0],{57:function(e,t,n){e.exports=n(68)},62:function(e,t,n){},63:function(e,t,n){},68:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(6),c=n.n(o),i=(n(62),n(63),n(13)),l=n(91),s=n(99),u=n(14);var m=n(71),d=n(101),f=n(32),p=n.n(f),g=Object(l.a)((function(e){return{root:{width:"100%"},inputRoot:{width:"100%"},input:{color:"white",padding:0,backgroundColour:"red","& .MuiInputBase-input":{padding:0,width:"100%"},"& .MuiInputBase-root":{width:"100%"}},commandPrompt:{marginRight:(0,e.spacing)(1)}}})),h=Object(u.b)((function(e){return{currentUser:e.currentUser}}))((function(e){var t=e.currentUser,n=e.value,a=e.onChange,o=e.onKeyDown,c=e.className,i=void 0===c?"":c,l=g(),u="".concat(t," $");return r.a.createElement(s.a,{display:"flex",justifyContent:"flex-start",alignItems:"center",flexDirection:"row",flexWrap:"nowrap",className:p()(l.root,i)},r.a.createElement(s.a,null,r.a.createElement(m.a,{className:l.commandPrompt,noWrap:!0},u)),r.a.createElement(d.a,{className:l.input,value:n,onChange:a,inputProps:{"aria-label":"naked"},onKeyDown:o,fullWidth:!0,classes:{root:l.inputRoot}}))}));function b(e){return{type:"SET_CURRENT_IMAGE",imageFileName:e}}var E=n(29),v=Object(l.a)((function(e){var t=e.spacing;return{root:{textAlign:"left",backgroundColor:"black",color:"white",borderRadius:"5px",height:"55em",width:"70em",display:"flex",flexDirection:"column",justifyContent:"flex-start",overflow:"hidden",overflowY:"scroll"},terminal:{padding:t(4)},commandPrompt:{marginRight:t(1),color:"#1ec700"},terminalInput:{color:"#1ec700"}}})),y=Object(u.b)((function(e){return{terminalHistory:e.terminalHistory,currentUser:e.currentUser,commands:e.commands}}),(function(e){return{addToHistory:function(t){return e(function(e){return{type:"ADD_TERMINAL_HISTORY_ENTRIES",payload:e}}(t))},clearHistory:function(){return e({type:"CLEAR_TERMINAL_HISTORY"})},displayImage:function(t){return e(b(t))}}}))((function(e){var t=e.currentUser,n=e.terminalHistory,o=e.addToHistory,c=e.clearHistory,l=e.displayImage,u=e.commands,d=v(),f=Object(a.useState)(Object(E.b)()),p=Object(i.a)(f,2),g=p[0],b=p[1],y=Object(a.useState)(-1),w=Object(i.a)(y,2),O=w[0],j=w[1],R=Object(a.useState)(""),x=Object(i.a)(R,2),C=x[0],N=x[1],I=Object(a.useRef)(null);return Object(a.useEffect)((function(){I.current&&I.current.scrollIntoView({behavior:"smooth",block:"end"})}),[n]),r.a.createElement("div",{className:d.root},r.a.createElement("div",{className:d.terminal,ref:I},n.map((function(e){return r.a.createElement(s.a,{display:"flex",justifyContent:"flex-start",alignItems:"center",flexDirection:"row",flexWrap:"nowrap"},"command"===e.type&&r.a.createElement(r.a.Fragment,null,r.a.createElement(m.a,{align:"left",className:d.commandPrompt,noWrap:!0},"".concat(t," $")),r.a.createElement(m.a,{align:"left"},e.value)),"output"===e.type&&r.a.createElement(s.a,{display:"flex",justifyContent:"flex-start",alignItems:"flex-start",flexDirection:"column"},e.value.map((function(e){return"\n"===e?r.a.createElement("br",null):r.a.createElement(m.a,{align:"left"},e)}))))})),r.a.createElement(h,{value:C,onChange:function(e){N(e.target.value)},onKeyDown:function(e){if("Enter"===e.key)b(g.push(C)),j(-1),"clear"===C?(b(Object(E.b)()),j(-1),c()):function(e,t,n,a){var r=e.split(" "),o=r[0],c=r.slice(1),l=[];if(l.push({type:"command",value:e||""}),o){var s=function(e){"string"===typeof e&&(e=[e]);var t={type:"output",value:e};l.push(t)};if(!Object.keys(t).includes(o))return s("".concat(o,": command not found. Use 'help' to list available commands.")),void a(l);switch(o){case"ls":case"cat":return s("No files available."),void a(l);case"map":return s("Map displayed in separate window."),n("map"),void a(l);case"ssh":var u=c[0],m=c[1];return m?void function(e,t){var n="";fetch("/password?user_name=".concat(e)).then((function(e){return e.text()})).then((function(e){s((n=e)?t===n?"hell yea":"Access denied. Invalid credentials.":"Error: User not found."),a(l)})).catch((function(t){return console.error("Error fetching password for user ".concat(e,": ").concat(t))}))}(u,m):(s(['Missing argument to command "ssh".',"Usage: ssh <user name> <user password>"]),void a(l));case"help":return Object.entries(t).forEach((function(e){var t=Object(i.a)(e,2),n=t[0],a=t[1];s("".concat(n,": ").concat(a))})),void a(l);default:s("".concat(o,": command not found. Use 'help' to list available commands.")),a(l)}}else a(l)}(C,u,l,o),N("");else if("ArrowUp"===e.key){if(O===g.size-1)return;j(O+1),N(g.get(O+1)||"")}else if("ArrowDown"===e.key){if(-1===O)return;if(0===O)return void N("");j(O-1),N(g.get(O-1)||"")}else j(-1)},className:d.terminalInput})))})),w=n(100),O=n(98),j=n(96),R=n(95),x=n(94),C=n(93),N=n(47),I=n.n(N),_=Object(l.a)((function(e){var t=e.spacing;return{dialog:{padding:0,borderRadius:"5px","& .MuiDialogContent-root":{padding:0}},dialogTitle:{padding:t(.5),backgroundColor:"#E8E8E8"},margin:{margin:t(1)},label:{marginRight:t(1)},smallText:{fontSize:"12px"}}}));function S(e){return r.a.createElement(I.a,{handle:"#draggable-dialog-title",cancel:'[class*="MuiDialogContent-root"]'},r.a.createElement(C.a,e))}var T=function(e){var t=e.children,n=e.className,a=e.open,o=e.onClose,c=e.title,i=void 0===c?"":c,l=_();return r.a.createElement(O.a,{open:a,onClose:o,PaperComponent:S,"aria-labelledby":"draggable-dialog-title",className:p()(l.dialog,n),maxWidth:"lg"},r.a.createElement(x.a,{style:{cursor:"move"},className:l.dialogTitle,id:"draggable-dialog-title"},r.a.createElement(m.a,{variant:"body1",align:"center",className:l.smallText},i)),r.a.createElement(R.a,null,t),r.a.createElement(j.a,null,r.a.createElement(w.a,{variant:"contained",color:"primary",onClick:o},"Close")))},U=Object(l.a)((function(){return{image:{height:"40em",width:"40em"}}})),k=Object(u.b)((function(e){return{currentImage:e.currentImage}}),(function(e){return{clearImage:function(){return e(b(""))}}}))((function(e){var t=e.currentImage,n=e.clearImage,o=U(),c=Object(a.useState)(!1),l=Object(i.a)(c,2),s=l[0],u=l[1];Object(a.useEffect)((function(){t&&u(!0)}),[t]);return r.a.createElement(T,{title:"image",open:s,onClose:function(){n(),u(!1)}},r.a.createElement("img",{src:"/".concat(t),className:o.image}))}));var M=Object(l.a)((function(e){var t=e.spacing;return{root:{textAlign:"left",padding:t(4),backgroundColor:"black",color:"white",borderRadius:"5px",display:"flex",flexDirection:"column",justifyContent:"flex-start"},margin:{margin:t(1)},label:{marginRight:t(1),color:"#1ec700"},terminalInput:{color:"#1ec700"},terminal:{padding:0,borderRadius:"5px","& .MuiDialogContent-root":{padding:0}}}})),A=Object(u.b)((function(e){e.terminalHistory;return{}}),(function(e){return{setUser:function(t){return e({type:"SET_CURRENT_USER",newUser:t})},setCommands:function(t){return e({type:"SET_COMMANDS",newCommands:t})}}}))((function(e){var t=e.setUser,n=e.setCommands,o=M(),c=Object(a.useState)(""),l=Object(i.a)(c,2),u=(l[0],l[1],Object(a.useState)({})),m=Object(i.a)(u,2),d=(m[0],m[1]);Object(a.useRef)(null);return Object(a.useEffect)((function(){fetch("/password?user_name=r_fisher").then((function(e){return e.text()})).then((function(e){console.log("password: ".concat(e))})).catch((function(e){return console.log("error")})),fetch("/commands?user_name=r_fisher").then((function(e){return e.text()})).then((function(e){console.log("commands: ".concat(e)),n(JSON.parse(e))})).catch((function(e){return console.log("error")})),fetch("/files?user_name=r_fisher").then((function(e){return e.text()})).then((function(e){d(JSON.parse(e)),console.log(e)})).catch((function(e){return console.log("error")})),t("a_cai@corona")}),[]),r.a.createElement(s.a,{display:"flex",justifyContent:"center",alignItems:"center"},r.a.createElement("div",{className:o.terminal},r.a.createElement(y,{callback:function(){return b("map")}})),r.a.createElement(k,null))})),D=n(97),H=n(49),W=Object(H.a)({typography:{fontFamily:["Roboto Mono",'"Open Sans"',"Lato","Roboto",'"Helvetica Neue"',"Arial","sans-serif"].join(","),fontSize:14,fontWeightLight:300,fontWeightRegular:400,fontWeightMedium:500}}),L=function(){return r.a.createElement(D.a,{theme:W},r.a.createElement("div",{className:"App"},r.a.createElement("header",null,r.a.createElement("p",null,"My Token = ",window.token)),r.a.createElement("body",null,r.a.createElement(A,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var P=n(23),Y=n(48),B=n.n(Y),F=Object(E.a)();function J(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_TERMINAL_HISTORY_ENTRIES":return e.concat(t.payload);case"CLEAR_TERMINAL_HISTORY":return F;default:return e}}function z(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CURRENT_USER":return t.newUser;default:return e}}function K(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CURRENT_IMAGE":return t.imageFileName;default:return e}}var $={};function G(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_COMMANDS":return t.newCommands;default:return e}}var V=Object(P.d)(Object(P.c)({terminalHistory:J,currentUser:z,currentImage:K,commands:G}),Object(P.a)(B.a));c.a.render(r.a.createElement(u.a,{store:V},r.a.createElement(L,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[57,1,2]]]);
//# sourceMappingURL=main.27c2aa1f.chunk.js.map