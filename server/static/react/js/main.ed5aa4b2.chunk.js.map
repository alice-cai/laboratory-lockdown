{"version":3,"sources":["components/draggable.component.tsx","store/terminal-history/actions.ts","store/terminal-history/types.ts","components/command-prompt.component.tsx","components/command-line.component.tsx","components/test.tsx","store/current-user/actions.ts","store/current-user/types.ts","theme/theme.ts","App.js","serviceWorker.js","store/terminal-history/reducers.ts","store/current-user/reducers.ts","index.tsx"],"names":["useStyles","makeStyles","spacing","dialog","padding","borderRadius","maxHeight","dialogTitle","backgroundColor","margin","label","marginRight","smallText","fontSize","DraggablePaperComponent","props","handle","cancel","Paper","DraggableDialog","children","open","className","onClose","classes","React","useState","Dialog","PaperComponent","aria-labelledby","maxWidth","DialogTitle","style","cursor","id","Typography","variant","align","DialogContent","addTerminalHistoryEntries","newEntries","type","payload","root","width","inputRoot","input","color","backgroundColour","commandPrompt","connect","currentUser","value","onChange","onKeyDown","commandPromptLabel","Box","display","justifyContent","alignItems","flexDirection","flexWrap","classnames","noWrap","InputBase","inputProps","fullWidth","textAlign","height","overflow","overflowY","terminal","terminalInput","terminalHistory","dispatch","addToHistory","clearHistory","test","callback","inputValue","setInputValue","files","terminalRootRef","useRef","useEffect","current","scrollIntoView","behavior","block","ref","map","entry","line","event","target","key","command","split","temp","push","setUser","user","newUser","setFiles","fetch","then","response","console","log","json","catch","error","text","JSON","parse","openImage","setOpenImage","src","theme","createMuiTheme","typography","fontFamily","join","fontWeightLight","fontWeightRegular","fontWeightMedium","App","window","token","Boolean","location","hostname","match","initialState","List","terminalHistoryReducer","state","action","concat","currentUserReducer","store","createStore","combineReducers","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister","message"],"mappings":"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","file":"js/main.ed5aa4b2.chunk.js","sourcesContent":["import React, { Children } from 'react';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport Paper from '@material-ui/core/Paper';\nimport Draggable from 'react-draggable';\nimport classnames from 'classnames'\nimport { makeStyles, Typography, Box, Icon } from '@material-ui/core';\n// import DraggablePaperComponent from './draggable-paper.component'\n\nconst useStyles = makeStyles(({ spacing }) => ({\n  dialog: {\n    padding: 0,\n    borderRadius: '5px',\n    maxHeight: '75vh',\n    // pointerEvents: \"none\",\n    '& .MuiDialogContent-root': {\n      padding: 0,\n    },\n  },\n  dialogTitle: {\n    padding: spacing(0.5),\n    backgroundColor: '#E8E8E8',\n  },\n  margin: {\n    margin: spacing(1),\n  },\n  label: {\n    marginRight: spacing(1),\n  },\n  smallText: {\n    fontSize: '12px',\n  }\n}))\n\nfunction DraggablePaperComponent(props: any) {\n  return (\n    <Draggable handle=\"#draggable-dialog-title\" cancel={'[class*=\"MuiDialogContent-root\"]'}>\n      <Paper {...props} />\n    </Draggable>\n  );\n}\n\ninterface Props {\n  open: boolean\n  onClose: () => void\n  children?: React.ReactNode\n  className?: string\n}\n\nconst DraggableDialog: React.FC<Props> = ({ children, className, open, onClose }) => {\n  const classes = useStyles()\n  // const [open, setOpen] = React.useState(false)\n  const [openImage, setOpenImage] = React.useState(false)\n\n  // const handleClickOpen = () => {\n  //   setOpen(true);\n  // }\n\n  // const handleClose = () => {\n  //   setOpen(false)\n  // }\n\n  return (\n    // <div className={className}>\n    //   <Button variant=\"outlined\" color=\"primary\" onClick={handleClickOpen}>\n    //     Open terminal\n    //   </Button>\n      <Dialog\n        open={open}\n        onClose={onClose}\n        PaperComponent={DraggablePaperComponent}\n        aria-labelledby=\"draggable-dialog-title\"\n        className={classes.dialog}\n        // disableBackdropClick\n        // disableEscapeKeyDown\n        // hideBackdrop\n        maxWidth='lg'\n      >\n        <DialogTitle style={{ cursor: 'move' }} className={classes.dialogTitle} id=\"draggable-dialog-title\">\n          {/* <Box display='flex' justifyContent='flex-start' flexDirection='row'>\n            <Icon fontSize='small'>cancel</Icon>\n          </Box> */}\n          <Typography variant='body1' align='center' className={classes.smallText}>terminal - alice_test</Typography>\n        </DialogTitle>\n        <DialogContent>\n          {/* <DialogContentText>\n            To subscribe to this website, please enter your email address here. We will send updates\n            occasionally.\n          </DialogContentText> */}\n          {children}\n        </DialogContent>\n        {/* <DialogActions>\n          <Button autoFocus onClick={() => setOpenImage(true)} color=\"primary\">\n            image\n          </Button>\n        </DialogActions> */}\n      </Dialog>\n    // </div>\n  )\n}\n\nexport default DraggableDialog\n","import { List } from 'immutable'\nimport {\n  TerminalHistoryEntry,\n  ADD_TERMINAL_HISTORY_ENTRIES,\n  CLEAR_TERMINAL_HISTORY,\n  TerminalHistoryActionTypes,\n} from './types'\n\n// TypeScript infers that this function is returning AddHistoryEntriesAction\nexport function addTerminalHistoryEntries(newEntries: TerminalHistoryEntry[]): TerminalHistoryActionTypes {\n  return {\n    type: ADD_TERMINAL_HISTORY_ENTRIES,\n    payload: newEntries,\n  }\n}\n\n// TypeScript infers that this function is returning ClearTerminalHistoryAction\nexport function clearTerminalHistory(): TerminalHistoryActionTypes {\n  return {\n    type: CLEAR_TERMINAL_HISTORY,\n  }\n}\n","import { List } from 'immutable'\n\nexport type TerminalHistoryEntry = {\n  type: 'command'\n  value: string\n} | {\n  type: 'output',\n  value: string[]\n}\n\nexport type TerminalHistoryState = List<TerminalHistoryEntry>\n\nexport const ADD_TERMINAL_HISTORY_ENTRIES = 'ADD_TERMINAL_HISTORY_ENTRIES'\nexport const CLEAR_TERMINAL_HISTORY = 'CLEAR_TERMINAL_HISTORY'\n\ninterface AddHistoryEntriesAction {\n  type: typeof ADD_TERMINAL_HISTORY_ENTRIES\n  payload: TerminalHistoryEntry[]\n}\n\ninterface ClearTerminalHistoryAction {\n  type: typeof CLEAR_TERMINAL_HISTORY\n}\n\nexport type TerminalHistoryActionTypes = AddHistoryEntriesAction | ClearTerminalHistoryAction\n","import React from 'react'\nimport { Box, InputBase, makeStyles, Typography } from '@material-ui/core'\nimport classnames from 'classnames'\nimport { AppState } from '..'\nimport { ThunkDispatch } from 'redux-thunk'\nimport { connect, MapDispatchToProps } from 'react-redux'\n\nconst useStyles = makeStyles(({ spacing }) => ({\n  root: {\n    width: '100%',\n  },\n  inputRoot: {\n    width: '100%',\n  },\n  input: {\n    color: 'white',\n    padding: 0,\n\n    backgroundColour: 'red',\n    '& .MuiInputBase-input': {\n      padding: 0,\n      width: '100%',\n    },\n    '& .MuiInputBase-root': {\n      width: '100%',\n    },\n  },\n  commandPrompt: {\n    marginRight: spacing(1),\n  },\n}))\n\ntype MappedState = ReturnType<typeof mapStateToProps>\n\ninterface Props {\n  value: string\n  onChange: (e: React.ChangeEvent<HTMLTextAreaElement | HTMLInputElement>) => void\n  onKeyDown: (e: React.KeyboardEvent) => void\n  className?: string\n}\n\nconst CommandPrompt: React.FC<MappedState & Props> = ({\n  currentUser,\n  value,\n  onChange,\n  onKeyDown,\n  className = '',\n}) => {\n  const classes = useStyles()\n  const commandPromptLabel = `${currentUser} $`\n\n  return (\n    <Box\n      display='flex'\n      justifyContent='flex-start'\n      alignItems='center'\n      flexDirection='row'\n      flexWrap='nowrap'\n      className={classnames(classes.root, className)}\n    >\n    <Box>\n      <Typography className={classes.commandPrompt} noWrap>{commandPromptLabel}</Typography>\n    </Box>\n    <InputBase\n      className={classes.input}\n      value={value}\n      onChange={onChange}\n      inputProps={{ 'aria-label': 'naked' }}\n      onKeyDown={onKeyDown}\n      fullWidth\n      classes={{ // this doesn't work :(\n        root: classes.inputRoot,\n      }}\n    />\n  </Box>\n  )\n}\n\nconst mapStateToProps = ({ currentUser }: AppState) => ({\n  currentUser,\n})\n\nexport default connect(mapStateToProps)(CommandPrompt)\n","import React, { useState, useEffect, useRef } from 'react'\nimport { Box, makeStyles, Typography, Icon } from '@material-ui/core'\nimport { List } from 'immutable'\nimport CommandPrompt from './command-prompt.component'\nimport { processCommand } from '../utils/commands'\nimport DraggableDialog from './draggable.component'\nimport { TerminalHistoryEntry } from '../store/terminal-history/types.js'\nimport { AppState } from '..'\nimport { ThunkDispatch } from 'redux-thunk'\nimport { AnyAction } from 'redux'\nimport { connect } from 'react-redux'\nimport { addTerminalHistoryEntries, clearTerminalHistory } from '../store/terminal-history/actions'\n\nconst useStyles = makeStyles(({ spacing }) => ({\n  root: {\n    textAlign: 'left',\n    backgroundColor: 'black',\n    color: 'white',\n    borderRadius: '5px',\n    height: '55em',\n    width: '70em',\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: 'flex-start',\n    overflow: 'hidden',\n    overflowY: 'scroll',\n  },\n  terminal: {\n    padding: spacing(4),\n  },\n  margin: {\n    margin: spacing(1),\n  },\n  label: { // command prompt\n    marginRight: spacing(1),\n    color: '#1ec700',\n  },\n  terminalInput: {\n    color: '#1ec700',\n  },\n}))\n\ntype MappedDispatch = ReturnType<typeof mapDispatchToProps>\ntype MappedState = ReturnType<typeof mapStateToProps>\n\ninterface Props {\n  test?: string\n  callback?: any\n}\n\nconst CommandLineComponent: React.FC<MappedDispatch & MappedState & Props> = ({ test = '', currentUser, terminalHistory, addToHistory, clearHistory, callback }) => {\n  const classes = useStyles()\n  // const [history, setHistory] = useState<List<TerminalHistoryEntry>>(List())\n  const [inputValue, setInputValue] = useState<string>('')\n  // const [commands, setCommands] = useState<string[]>([])\n  const [files, setFiles] = useState<{ [key in string]: string[] }>({})\n  const terminalRootRef = useRef<HTMLDivElement>(null)\n\n  // TODO: clean up this fucking logic\n  const onTerminalInputKeyDown = (event: React.KeyboardEvent) => {\n    if (event.key === 'Enter') {\n      if (inputValue === 'clear') {\n        // setHistory(List())\n        clearHistory()\n        setInputValue('')\n        return\n      }\n      const command = inputValue.split(' ')[0]\n      const temp: TerminalHistoryEntry[] = []\n      if (command === 'cat') { // testing file format\n        temp.push({ type: 'command', value: inputValue || '' })\n        temp.push({ type: 'output', value: files['announcement.txt'] })\n        // setHistory(history.concat(temp))\n        addToHistory(temp)\n        setInputValue('')\n        return\n      } else if (command === 'image') {\n        callback()\n      }\n      temp.push({ type: 'command', value: inputValue || '' })\n      if (command) {\n        temp.push({ type: 'output', value: [`${command}: command not found. Use 'help' to list available commands.`] })\n      }\n      // setHistory(history.concat(temp))\n      addToHistory(temp)\n      setInputValue('')\n    }\n  }\n\n  const scrollToBottom = () => {\n    if (terminalRootRef.current) {\n      terminalRootRef.current.scrollIntoView({ behavior: 'smooth', block: 'end' })\n    }\n  }\n  useEffect(scrollToBottom, [terminalHistory])\n\n  return (\n    <div className={classes.root}>\n      <div className={classes.terminal} ref={terminalRootRef}>\n        {terminalHistory.map((entry) => (\n          <Box\n            display='flex'\n            justifyContent='flex-start'\n            alignItems='center'\n            flexDirection='row'\n            flexWrap='nowrap'\n          >\n            {entry.type === 'command' && (<>\n              <Typography align='left' className={classes.label} noWrap>{`${currentUser} $`}</Typography>\n              <Typography align='left'>{entry.value}</Typography></>)}\n            {entry.type === 'output' && (<Box display='flex' justifyContent='flex-start' alignItems='flex-start' flexDirection='column'>\n              {entry.value.map((line: string) => {\n                return line === \"\\n\" ? <br /> : <Typography align='left'>{line}</Typography>\n              })}\n            </Box>)}\n          </Box>\n        ))}\n\n        <CommandPrompt\n          value={inputValue}\n          onChange={(event) => {\n            setInputValue(event.target.value)\n          }}\n          onKeyDown={onTerminalInputKeyDown}\n          className={classes.terminalInput}\n        />\n      </div>\n    </div>\n  )\n}\n\nconst mapStateToProps = ({ terminalHistory, currentUser }: AppState) => ({\n  terminalHistory,\n  currentUser,\n})\n\nconst mapDispatchToProps = (dispatch: ThunkDispatch<any, any, AnyAction>) => ({\n  addToHistory: (newEntries: TerminalHistoryEntry[]) => dispatch(addTerminalHistoryEntries(newEntries)),\n  clearHistory: () => dispatch(clearTerminalHistory()),\n})\n\n// export default Test\nexport default connect(mapStateToProps, mapDispatchToProps)(CommandLineComponent)\n","import React, { useState, useEffect, useRef } from 'react'\nimport { Box, makeStyles, Typography, Icon, Dialog, DialogTitle, DialogContent } from '@material-ui/core'\nimport { List } from 'immutable'\nimport CommandPrompt from './command-prompt.component'\nimport { processCommand } from '../utils/commands'\nimport DraggableDialog from './draggable.component'\nimport { TerminalHistoryEntry } from '../store/terminal-history/types.js'\nimport { AppState } from '..'\nimport { ThunkDispatch } from 'redux-thunk'\nimport { AnyAction } from 'redux'\nimport { connect } from 'react-redux'\nimport { addTerminalHistoryEntries, clearTerminalHistory } from '../store/terminal-history/actions'\nimport { setCurrentUser } from '../store/current-user/actions'\nimport CommandLineComponent from './command-line.component'\nimport DraggablePaperComponent from './draggable-paper.component'\nimport Draggable from 'react-draggable'\n\nconst useStyles = makeStyles(({ spacing }) => ({\n  root: {\n    textAlign: 'left',\n    padding: spacing(4),\n    backgroundColor: 'black',\n    color: 'white',\n    borderRadius: '5px',\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: 'flex-start',\n  },\n  margin: {\n    margin: spacing(1),\n  },\n  label: { // command prompt\n    marginRight: spacing(1),\n    color: '#1ec700',\n  },\n  terminalInput: {\n    color: '#1ec700',\n  },\n  terminal: {\n    padding: 0,\n    borderRadius: '5px',\n    '& .MuiDialogContent-root': {\n      padding: 0,\n    },\n  },\n}))\n\ntype MappedDispatch = ReturnType<typeof mapDispatchToProps>\ntype MappedState = ReturnType<typeof mapStateToProps>\n\ninterface Props {\n  test?: string\n}\n\nconst Test: React.FC<MappedDispatch & MappedState & Props> = ({ test = '', setUser, terminalHistory, addToHistory, clearHistory }) => {\n  const classes = useStyles()\n  const commandPrompt = 'alice@test $'\n  // const [history, setHistory] = useState<List<TerminalHistoryEntry>>(List())\n  const [inputValue, setInputValue] = useState<string>('')\n  const [commands, setCommands] = useState<string[]>([])\n  const [files, setFiles] = useState<{ [key in string]: string[] }>({})\n  const terminalRootRef = useRef<HTMLDivElement>(null)\n\n  useEffect(() => {\n    fetch('/commands')\n      .then(response => {\n        // setFiles(response.formData)\n        console.log(response.json())\n      })\n      .catch(error => console.log('error'))\n\n    fetch('/files')\n      .then(response => response.text())\n      .then(response => {\n        setFiles(JSON.parse(response))\n        console.log(response)\n      })\n      .catch(error => console.log('error'))\n    setUser('alice@test')\n  }, [])\n\n  console.log('does this work omdfgggggg??????@@@@!!!?????$$$$$$$')\n\n  const [openImage, setOpenImage] = useState(false)\n\n  return (\n    <Box display='flex' justifyContent='center' alignItems='center'>\n      <div className={classes.terminal}>\n        <CommandLineComponent callback={() => setOpenImage(true)} />\n      </div>\n      <DraggableDialog open={openImage} onClose={() => setOpenImage(false)}>\n        {/* TODO: replace with an image and connect to redux lmao */}\n        <img src='/favicon.ico' />\n      </DraggableDialog>\n      {/* <Dialog\n        open={openImage}\n        onClose={() => setOpenImage(false)}\n        PaperComponent={DraggablePaperComponent}\n        aria-labelledby=\"draggable-dialog-title\"\n      >\n        <DialogTitle style={{ cursor: 'move' }} id=\"draggable-dialog-title\">\n          <Typography variant='body1' align='center' >image</Typography>\n        </DialogTitle>\n        <DialogContent><div style={{ height: '10em', width: '10em', backgroundColor: 'pink' }}></div></DialogContent>\n      </Dialog> */}\n    </Box>\n  )\n}\n\nconst mapStateToProps = ({ terminalHistory }: AppState) => ({\n  terminalHistory,\n})\n\nconst mapDispatchToProps = (dispatch: ThunkDispatch<any, any, AnyAction>) => ({\n  addToHistory: (newEntries: TerminalHistoryEntry[]) => dispatch(addTerminalHistoryEntries(newEntries)),\n  clearHistory: () => dispatch(clearTerminalHistory()),\n  setUser: (user: string) => dispatch(setCurrentUser(user))\n})\n\n// export default Test\nexport default connect(mapStateToProps, mapDispatchToProps)(Test)\n","import {\n  SET_CURRENT_USER,\n  CurrentUserActionTypes,\n} from './types'\n\nexport function setCurrentUser(newUser: string): CurrentUserActionTypes {\n  return {\n    type: SET_CURRENT_USER,\n    newUser,\n  }\n}\n","export type CurrentUserState = string // TODO: this should technically be keyof the user info obj\n\nexport const SET_CURRENT_USER = 'SET_CURRENT_USER'\n\ninterface SetCurrentUserAction {\n  type: typeof SET_CURRENT_USER\n  newUser: string\n}\n\nexport type CurrentUserActionTypes = SetCurrentUserAction // | ClearTerminalHistoryAction\n","import { createMuiTheme } from '@material-ui/core/styles'\n\nexport const theme = createMuiTheme({\n  typography: {\n    fontFamily: [\n      'Roboto Mono',\n      '\"Open Sans\"',\n      'Lato',\n      'Roboto',\n      '\"Helvetica Neue\"',\n      'Arial',\n      'sans-serif',\n    ].join(','),\n    fontSize: 14,\n    fontWeightLight: 300,\n    fontWeightRegular: 400,\n    fontWeightMedium: 500\n  }\n})\n","import React from 'react';\nimport './App.css';\nimport Test from './components/test.tsx'\nimport { MuiThemeProvider } from '@material-ui/core/styles'\nimport { theme } from './theme/theme.ts'\n\nconst App = () => (\n  <MuiThemeProvider theme={theme}>\n    {/* <Provider store={store}>\n      <Router history={appHistory} routes={Routes} />\n    </Provider> */}\n    <div className=\"App\">\n      <header>\n        <p>My Token = {window.token}</p>\n      </header>\n      <body>\n        <Test test={'hello world!'} />\n      </body>\n    </div>\n  </MuiThemeProvider>\n)\n\nexport default App\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import { List } from 'immutable'\nimport {\n  TerminalHistoryEntry,\n  ADD_TERMINAL_HISTORY_ENTRIES,\n  CLEAR_TERMINAL_HISTORY,\n  TerminalHistoryActionTypes,\n  TerminalHistoryState,\n} from './types'\n\nconst initialState: TerminalHistoryState = List()\n\nexport function terminalHistoryReducer(state = initialState, action: TerminalHistoryActionTypes): TerminalHistoryState {\n  switch (action.type) {\n    case ADD_TERMINAL_HISTORY_ENTRIES:\n      return state.concat(action.payload)\n    case CLEAR_TERMINAL_HISTORY:\n      return initialState\n    default:\n      return state\n  }\n}\n","import {\n    CurrentUserState,\n    SET_CURRENT_USER,\n  CurrentUserActionTypes,\n} from './types'\n\nconst initialState: CurrentUserState = ''\n\nexport function currentUserReducer(state = initialState, action: CurrentUserActionTypes): CurrentUserState {\n  switch (action.type) {\n    case SET_CURRENT_USER:\n      return action.newUser\n    default:\n      return state\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport { applyMiddleware, combineReducers, compose, createStore } from 'redux'\nimport { terminalHistoryReducer } from './store/terminal-history/reducers'\nimport { Provider } from 'react-redux'\nimport { currentUserReducer } from './store/current-user/reducers';\n\nconst createRootReducer = () => combineReducers({\n  terminalHistory: terminalHistoryReducer,\n  currentUser: currentUserReducer,\n})\n\nexport type AppState = Exclude<Parameters<ReturnType<typeof createRootReducer>>[0], undefined>\n\n// const rootReducer = combineReducers({\n//   terminalHistory: terminalHistoryReducer,\n// })\n\nconst store = createStore(\n  createRootReducer(),\n  // composeEnhancers(\n  //     enhancer,\n  //     middlewareApplication\n  // )\n);\n\nReactDOM.render(\n  <Provider store={store} >\n    <App />\n  </Provider>,\n  document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}